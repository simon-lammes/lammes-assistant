generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             Int    @id @default(autoincrement())
  firstName      String @map("first_name")
  lastName       String @map("last_name")
  username       String @unique
  hashedPassword String @map("hashed_password")
  notes          Note[] @relation("notesToUsers")

  @@map("users")
}

model Note {
  id                Int       @id @default(autoincrement())
  title             String
  updatedTimestamp  DateTime  @default(now()) @map("updated_timestamp")
  resolvedTimestamp DateTime? @map("resolved_timestamp")
  description       String?
  startTimestamp    DateTime? @default(now()) @map("start_timestamp")
  deadlineTimestamp DateTime? @map("deadline_timestamp")
  creatorId         Int       @map("creator_id")
  user              User      @relation("notesToUsers", fields: [creatorId], references: [id])

  @@map("notes")
}
