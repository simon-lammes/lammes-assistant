generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             Int    @id @default(autoincrement())
  firstName      String @map("first_name")
  lastName       String @map("last_name")
  hashedPassword String @map("hashed_password")
  username       String @unique
  notes          Note[] @relation("notesToUsers")

  @@map("users")
}

model Note {
  id                Int       @id @default(autoincrement())
  text              String
  updatedTimestamp  DateTime  @default(now()) @map("updated_timestamp")
  creatorId         Int       @map("creator_id")
  resolvedTimestamp DateTime? @map("resolved_timestamp")
  user              User      @relation("notesToUsers", fields: [creatorId], references: [id])

  @@map("notes")
}
